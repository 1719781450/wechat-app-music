"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var exports=module.exports={};try{var global=window=require("../../../npm/labrador/global.js");Object.defineProperty(exports,"__esModule",{value:!0});var _assign=require("../../../npm/babel-runtime/core-js/object/assign.js"),_assign2=_interopRequireDefault(_assign),_extends2=require("../../../npm/babel-runtime/helpers/extends.js"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=require("../../../npm/babel-runtime/core-js/object/get-prototype-of.js"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("../../../npm/babel-runtime/helpers/classCallCheck.js"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("../../../npm/babel-runtime/helpers/createClass.js"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("../../../npm/babel-runtime/helpers/possibleConstructorReturn.js"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("../../../npm/babel-runtime/helpers/inherits.js"),_inherits3=_interopRequireDefault(_inherits2),_labrador=require("../../../npm/labrador/index.js"),_labrador2=_interopRequireDefault(_labrador),_api=require("../../../utils/api.js"),_api2=_interopRequireDefault(_api),Search=function(e){function t(){var e,r,a,s;(0,_classCallCheck3["default"])(this,t);for(var i=arguments.length,n=Array(i),l=0;i>l;l++)n[l]=arguments[l];return r=a=(0,_possibleConstructorReturn3["default"])(this,(e=t.__proto__||(0,_getPrototypeOf2["default"])(t)).call.apply(e,[this].concat(n))),a.app=getApp(),a.data=(0,_extends3["default"])({},a.app.globalData.data,{tabActive:"search",list:[],search:{value:""},isEnd:!1,paged:1}),s=r,(0,_possibleConstructorReturn3["default"])(a,s)}return(0,_inherits3["default"])(t,e),(0,_createClass3["default"])(t,[{key:"showToast",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";this.setData({toast:{text:e,type:r}}),setTimeout(function(){t.setData({toast:""})},3e3)}},{key:"inputing",value:function(e){this.setData({search:(0,_assign2["default"])(this.data.search,{value:e.detail.value})})}},{key:"bindSearch",value:function(e){var t=this,r=this.data.search.value;return r?void _api2["default"].search(r,1).then(function(e){t.setData({paged:1,list:e.song})}):void this.showToast("请输入关键字","warn")}},{key:"onReady",value:function(){_labrador2["default"].setNavigationBarTitle({title:"在线搜索"})}}]),t}(_labrador2["default"].Component);exports["default"]=Search;var __page=new exports["default"];__page.init(),Page(__page)}catch(error){throw console.error(error.stack),error}